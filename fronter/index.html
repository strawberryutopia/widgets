<!DOCTYPE html>

<!-- Twitter Metadata -->
<meta name="twitter:card" content="player">
<meta name="twitter:site" content="@lucydavinhart">
<meta name="twitter:title" content="Fronter">
<meta name="twitter:description" content="Who is currently fronting?">
<meta name="twitter:image" content="">
<meta name="twitter:player" content="https://widgets.lmhd.me/fronter/">
<meta name="twitter:player:width" content="256">
<meta name="twitter:player:height" content="256">


<style>
#whoami {
  display: inline-block;
  height: 100px;
  overflow: hidden;
  padding: 0;
  border-radius: 50px;
  border-top-right-radius: 5px;
  padding-right: 20px;
  position: fixed;
  top: 10px;
  right: 10px;
}

h1,
h2 {
  margin: 0;
  color: white;
}

#avatar {
  width: 100px;
  height: 100px;
  vertical-align: middle;
}

#fronter {
  display: inline-block;
  vertical-align: middle;
}

* {
  font-family: sans-serif;
}
</style>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<div id="whoami">
  <img id="avatar" src="" />
  <div id="fronter">
    <h2>Fronter</h2>
    <h1 id="name"></h1>
  </div>
</div>


<script>
function update_fronter() {
  $.getJSON("https://api.lmhd.me/v1/front.json", function(data) {
    $("#name").text(data.members[0].display_name)
    $("#avatar").attr("src", data.members[0].avatar_url)
    $("#whoami").css("background", "#" + data.members[0].color)

    // TODO: find a gooc text color based on background color
  });
}

update_fronter()

setInterval(update_fronter, 60 * 1000);
</script>
